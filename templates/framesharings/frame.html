{% extends 'users/main.html' %} {% block content %}
<main>
  <div class="frame__container">
    <div class="frame__flex-box">
      <div class="frame__left">
        <div class="frame__title">인생네컷 프레임 공유</div>
        <a href="/framecreate"><div class="frame__create"><i class="fa-solid fa-circle-plus"></i></div></a>
      </div>
      <div class="frame__right">
        <div class="frame__sort">
          <form action="{% url 'framesharings:frame' %}" >
            <select name="sort" onchange="this.form.submit()">
              <option selected="selected"  value="none">정렬기준</option>
              <option value="1">인기순</option>
              <option value="2">최신순</option>
            </select>
          </form>
          </div>
        <div class="frame__search">
          <form action="{% url 'framesharings:frame' %}">
            <input type="search" name="title" placeholder="프레임 검색" />
          </form>
        </div>
      </div>
    </div>

    <div>
      <form action="{% url 'framesharings:frame' %}">
        <button name="sortkeyword" value="None">#HOME</button>
        {% for keywordinfo in keywordinfo  %}
        {% if querykeyword == keywordinfo.id %}
        <button name="sortkeyword" value="{{keywordinfo.id}}" style="background-color: black;">#{{keywordinfo.name}}</button>
        {% else %}
        <button name="sortkeyword" value="{{keywordinfo.id}}">#{{keywordinfo.name}}</button>
        {% endif%}
        {% endfor%}
      </form>
    </div>

    <div class="일주일 인기순4개">
      <div class="frame__box">
        {% for frameweekinfo in frameweekinfo %} {% if frameweekinfo.framepublic %} 
        {% if frameweekinfo.framephoto %}
        <div class="frame__one-box">
          <h1>일주일 인기 {{forloop.counter}}등</h1>
          <div class="frame__img">
            <a href="{%url 'framesharings:framedetail' frameweekinfo.id %}"
              ><img src="{{ frameweekinfo.framephoto.url }}" alt="프레임사진"
            /></a>
          </div>
          <div class="frame__frametitle">{{ frameweekinfo.frametitle }}</div>
          {% for keyword in frameweekinfo.framekeyword.all %} {% endfor%}
          <div>
            <form action="{% url 'framesharings:frame' %}">
              <div>
                {% if frameweekinfo in like %}
                <button name="like" value="{{frameweekinfo.id}}"><i class="fa-regular fa-thumbs-up"></i>추천완료</button>
                {% else %}
                <button name="like" value="{{frameweekinfo.id}}"><i class="fa-regular fa-thumbs-up"></i>추천하기</button>
                {% endif %}
              </div>
            </form>
            <form action="{% url 'framesharings:frame' %}">
              {% if frameweekinfo in save %}
              <button name="save" value="{{frameweekinfo.id}}">찜완료</button>
              {% else %}
              <button name="save" value="{{frameweekinfo.id}}">찜하기</button>
              {% endif %}
            </form>
          </div>
        </div>
        {% endif %} {% endif %} {% endfor %}
      </div>
    </div>
   
    <div class="frame__box">
      {% for frameinfo in frameinfo %} {% if frameinfo.framepublic %} 
      {% if frameinfo.framephoto %}
      <div class="frame__one-box">
        <div class="frame__img">
          <a href="{%url 'framesharings:framedetail' frameinfo.id %}"
            ><img src="{{ frameinfo.framephoto.url }}" alt="프레임사진"
          /></a>
        </div>
        <div class="frame__frametitle">{{ frameinfo.frametitle }}</div>
        {% for keyword in frameinfo.framekeyword.all %} {% endfor%}
        <div>
          <form action="{% url 'framesharings:frame' %}">
            <div>
              {% if frameinfo in like %}
              <button name="like" value="{{frameinfo.id}}">추천완료</button>
              {% else %}
              <button name="like" value="{{frameinfo.id}}">추천하기</button>
              {% endif %}
            </div>
          </form>
          <form action="{% url 'framesharings:frame' %}">
            {% if frameinfo in save %}
            <button name="save" value="{{frameinfo.id}}">찜완료</button>
            {% else %}
            <button name="save" value="{{frameinfo.id}}">찜하기</button>
            {% endif %}
          </form>
        </div>
      </div>
      {% endif %} {% endif %} {% endfor %}
    </div>
  </div>
</main>
{% endblock content %}